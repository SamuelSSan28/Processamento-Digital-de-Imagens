import cv2import mathfrom Histogram_Class import Histograma as histimport numpy as npdef calculaDiferencaG(img1, img2):  h,l = img1.shape[0],img1.shape[1]  gray11 = cv2.cvtColor(img1, cv2.COLOR_BGR2GRAY)  gray22 = cv2.cvtColor(img2, cv2.COLOR_BGR2GRAY)  gray1 = hist.retorna_acumlada(hist,gray11)  gray2 = hist.retorna_acumlada(hist,gray22)  dif_pix = cv2.absdiff(gray22,gray11)  for i in range(h):    for j in range(l):      dif = gray1[gray22[i][j]] - gray2[gray22[i][j]]      if dif < 0: dif = dif*-1      if  dif > 75 and dif_pix[i][j] > 10:        img2[i][j] = [0,0,255]  cv2.imshow("oii", img2)  cv2.waitKey(0)  cv2.destroyAllWindows()  return img2def calculaDiferencaC(img1, img2):  h,l = img1.shape[0],img1.shape[1] #x,y da img  freq1 = hist.retorna_frequenciaC(hist,img1)  freq2 = hist.retorna_frequenciaC(hist,img2)  #bgr  img2 = np.copy(img2) #clona a img  for i in range(h):    for j in range(l):      px1 = img2[i][j]      px2 = img1[i][j]      if (int(px1[2]) - int(px2[2])) > 45 and freq2[2][int(px2[2])]  - freq1[2][int(px2[2])] < 15:       img2[i][j] = [245, 42, 0]      if (int(px1[0]) - int(px2[0])) > 80 and (freq1[0][int(px2[0])] - freq2[0][int(px2[0])]) < 83:       img2[i][j] = [255, 42, 0]      if (int(px1[1]) - int(px2[1])) < 0 and (freq2[1][int(px1[1])] - freq1[1][int(px2[1])]) >10:       img2[i][j] = [255, 42, 0]  return img2img = cv2.imread('caneca101.jpg',1) #leitura da Imagemimg2 = cv2.imread('caneca102.jpg',1) #leitura da Imagemmovimento = calculaDiferencaC(img,img2)# imagem de saída com o movimento detctadoresultado = np.concatenate((img, movimento, img2), axis=1)#junta as imagenscv2.imwrite("canecass.png", movimento)#salva a imagem final que contem as de entrada e de saída